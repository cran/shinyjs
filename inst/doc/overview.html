<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Dean Attali" />

<meta name="date" content="2015-05-25" />

<title>Package shinyjs</title>




<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Package shinyjs</h1>
<h4 class="author"><em>Dean Attali</em></h4>
<h4 class="date"><em>2015-05-25</em></h4>
</div>


<div id="shinyjs" class="section level1">
<h1>shinyjs</h1>
<p><code>shinyjs</code> lets you perform common useful JavaScript operations in Shiny applications without having to know any JavaScript. Examples include hiding an element, disabling an input, resetting an input back to its original value, and many more useful functions. <code>shinyjs</code> can also be used to easily run your own custom JavaScript functions from R.</p>
<p>You can <a href="http://daattali.com/shiny/shinyjs-demo/">check out a demo Shiny app</a> that lets you play around with some of the functionality that <code>shinyjs</code> makes available, or <a href="http://daattali.com/shiny/shinyjs-basic/">have a look at a very basic Shiny app</a> that uses <code>shinyjs</code> to enhance the user experience with very minimal and simple R code.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p><code>shinyjs</code> is available through both CRAN and GitHub:</p>
<p>To install the CRAN version:</p>
<pre><code>install.packages(&quot;shinyjs&quot;)</code></pre>
<p>To install the latest developmental version from GitHub:</p>
<pre><code>install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;daattali/shinyjs&quot;)</code></pre>
</div>
<div id="overview-of-main-functions" class="section level2">
<h2>Overview of main functions</h2>
<ul>
<li><p><code>show</code>/<code>hide</code>/<code>toggle</code> - display or hide an element. There are arguments that control the animation as well, though animation is off by default.</p></li>
<li><p><code>hidden</code> - initialize a Shiny tag as invisible (can be shown later with a call to <code>show</code>).</p></li>
<li><p><code>reset</code> - reset a Shiny input widget back to its original value.</p></li>
<li><p><code>enable</code>/<code>disable</code>/<code>toggleState</code> - enable or disable an input element, such as a button or a text input.</p></li>
<li><p><code>info</code> - show a message to the user (using JavaScript’s <code>alert</code> under the hood).</p></li>
<li><p><code>text</code> - change the text/HTML of an element (using JavaScript’s <code>innerHTML</code> under the hood).</p></li>
<li><p><code>onclick</code> - run R code when an element is clicked. Was originally developed with the sole purpose of running a <code>shinyjs</code> function when an element is clicked, though any R code can be used.</p></li>
<li><p><code>addClass</code>/<code>removeClass</code>/<code>toggleClass</code> - add or remove a CSS class from an element</p></li>
<li><p><code>inlineCSS</code> - easily add inline CSS to a Shiny app.</p></li>
<li><p><code>logjs</code> - print a message to the JavaScript console (mainly used for debugging purposes).</p></li>
<li><p><code>runjs</code> - run arbitrary JavaScript code (not recommended to use this in a published Shiny app).</p></li>
<li><p><code>extendShinyjs</code> - allows you to write your own JavaScript functions and use <code>shinyjs</code> to call them as if they were regular R code. More information is available in the section “Calling your own JavaScript functions from R”.</p></li>
</ul>
<p><a href="http://daattali.com/shiny/shinyjs-demo/">Check out the demo Shiny app</a> to see some of these in action, or install <code>shinyjs</code> and run <code>shinyjs::runExample()</code> to see more demo apps.</p>
</div>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Shiny is a fantastic R package provided by RStudio that lets you turn any R code into an interactive webpage. It’s very powerful and one of the most useful packages in my opinion. But there are just a few simple pieces of functionality that I always find missing and I implement myself in my Shiny apps using JavaScript (JS) because it’s either not supported natively by Shiny or it’s just cleaner to do so. Simple things like showing/hiding elements, enabling/disabling a button, showing a popup message to the user, manipulating the CSS class or HTML content of an element, etc.</p>
<p>After noticing that I’m writing the same JS code in all my apps, and since making Shiny talk to JS is a bit tedious and annoying with all the message passing, I decided to just package it to make it easily reusable. Now I can simply call <code>hide(&quot;panel&quot;)</code> or <code>disable(&quot;button&quot;)</code>. I was lucky enough to have previous experience with JS so I knew how to achieve the results that I wanted, but for any Shiny developer who is not proficient in JS, hopefully this package will make it easy to extend the power of their Shiny apps.</p>
</div>
<div id="basic-use-case---complete-working-example" class="section level2">
<h2>Basic use case - complete working example</h2>
<p><em>You can view the final Shiny app developed in this simple example <a href="http://daattali.com/shiny/shinyjs-basic/">here</a>.</em></p>
<p>Suppose we want to have a simple Shiny app that collects a user’s basic information (name, age, company) and submits it, along with the time of submission. Here is a very simple implementation of such an app (nothing actually happens when the user “submits”).</p>
<pre><code>library(shiny)
shinyApp(
  ui = fluidPage(
    div(id = &quot;myapp&quot;,
      h2(&quot;shinyjs demo&quot;),
      textInput(&quot;name&quot;, &quot;Name&quot;, &quot;&quot;),
      numericInput(&quot;age&quot;, &quot;Age&quot;, 30),
      textInput(&quot;company&quot;, &quot;Company&quot;, &quot;&quot;),
      p(&quot;Timestamp: &quot;, span(date())),
      actionButton(&quot;submit&quot;, &quot;Submit&quot;)
    )
  ),
  
  server = function(input, output) {
  }
)</code></pre>
<p><em>Note that I generally don’t like running Shiny apps like this and prefer to declare the UI and server separately, but I do it like this here for brevity.</em></p>
<p>Here is what that app would look like</p>
<p><img src="data:image/png;base64,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" alt="Demo app" /></p>
<p>Now suppose we want to add a few features to the app to make it a bit more user-friendly. First we need to set up the app to use <code>shinyjs</code> with two small changes</p>
<ol style="list-style-type: decimal">
<li><p>A call to <code>useShinyjs()</code> needs to be made in the Shiny app’s UI. This is required to set up all the JavaScript and a few other things.</p></li>
<li><p>The app’s server needs to have the <code>session</code> parameter declared, ie. initialize the server as <code>server(input, output, session)</code> instead of <code>server(input, output)</code>.</p></li>
</ol>
<p>Here are 7 features we’ll add to the app, each followed with the code to implement it using <code>shinyjs</code>:</p>
<p><strong>1. The “Name” field is mandatory and thus the “Submit” button should not be enabled if there is no name</strong></p>
<p>In the server portion, add the following code</p>
<pre><code>observe({
  if (is.null(input$name) || input$name == &quot;&quot;) {
    shinyjs::disable(&quot;submit&quot;)
  } else {
    shinyjs::enable(&quot;submit&quot;)
  }
})</code></pre>
<p>Or instead you can use the <code>toggleState</code> function and pass it a <code>condition</code>:</p>
<pre><code>observe({
  shinyjs::toggleState(&quot;submit&quot;, !is.null(input$name) &amp;&amp; input$name != &quot;&quot;)
})</code></pre>
<p>You can use the optional <code>condition</code> in some other functions as well, which can be very useful to make your code shorter and more understandable.</p>
<p><strong>2. The “Age” and “Company” fields are optional and we want to have the ability to hide that section of the form</strong></p>
<p>First, we need to section off the “Age” and “Company” elements into their own section, so we surround them with a <code>div</code></p>
<pre><code>div(id = &quot;advanced&quot;,
  numericInput(&quot;age&quot;, &quot;Age&quot;, 30),
  textInput(&quot;company&quot;, &quot;Company&quot;, &quot;&quot;)
)</code></pre>
<p>We also need to add a link in the UI that will be used to hide/show the section</p>
<pre><code>a(id = &quot;toggleAdvanced&quot;, &quot;Show/hide advanced info&quot;)</code></pre>
<p>Lastly, we need to tell Shiny to show/hide the section when the link is clicked by adding this code to the server</p>
<pre><code>shinyjs::onclick(&quot;toggleAdvanced&quot;,
                  shinyjs::toggle(id = &quot;advanced&quot;, anim = TRUE))</code></pre>
<p><strong>3. Similarly, since we don’t really care about “Age” and “Company” too much, we want to hide them initially when the form loads</strong></p>
<p>Simply surround the section we want to hide initially with <code>shinyjs::hidden</code></p>
<pre><code>shinyjs::hidden(
  div(id = &quot;advanced&quot;,
    ...
))</code></pre>
<p><strong>4. The user should be able to update the “Timestamp” in case he spends way too long filling out the form (not very realistic here, and the timestamp should ideally be determined when the button is clicked, but it’s good enough for illustration purposes)</strong></p>
<p>First, we need to add an “Update” link to click on, and we need to give the element showing the time an <code>id</code> so that we can refer to it later when we want to change its contents.</p>
<p>To do that, replace <code>p(&quot;Timestamp: &quot;, span(date()))</code> with</p>
<pre><code>p(&quot;Timestamp: &quot;, span(id = &quot;time&quot;, date()), a(id = &quot;update&quot;, &quot;Update&quot;))</code></pre>
<p>Now we need to tell Shiny what to do when “Update” is clicked by adding this to the server</p>
<pre><code>shinyjs::onclick(&quot;update&quot;, shinyjs::text(&quot;time&quot;, date()))</code></pre>
<p><strong>5. Some users may find it hard to read the small text in the app, so there should be an option to increase the font size</strong></p>
<p>First, we need to add checkbox to the UI</p>
<pre><code>checkboxInput(&quot;big&quot;, &quot;Bigger text&quot;, FALSE)</code></pre>
<p>In order to make the text bigger, we will use CSS. So let’s add an appropriate CSS rule by adding this code to the UI</p>
<pre><code>shinyjs::inlineCSS(list(.big = &quot;font-size: 2em&quot;))</code></pre>
<p>Lastly, we want the text to be big or small depending on whether the checkbox is checked by adding this code to the server</p>
<pre><code>observe({
  if (input$big) {
    shinyjs::addClass(&quot;myapp&quot;, &quot;big&quot;)
  } else {
    shinyjs::removeClass(&quot;myapp&quot;, &quot;big&quot;)
  }
})</code></pre>
<p>Or, again, we can use the <code>toggleClass</code> function with the <code>condition</code> argument:</p>
<pre><code>observe({
  shinyjs::toggleClass(&quot;myapp&quot;, &quot;big&quot;, input$big)
})</code></pre>
<p><strong>6. Give the user a “Thank you” message upon submission</strong></p>
<p>Simply add the following to the server</p>
<pre><code>observeEvent(input$submit, {
  shinyjs::info(&quot;Thank you!&quot;)
})</code></pre>
<p><strong>7. Allow the user to reset the form</strong></p>
<p>First let’s add a button to the UI</p>
<pre><code>actionButton(&quot;reset&quot;, &quot;Reset form&quot;)</code></pre>
<p>And when the button is clicked, reset the form</p>
<pre><code>observeEvent(input$reset, {
  shinyjs::reset(&quot;myapp&quot;)
})</code></pre>
<p><strong>The final code looks like this</strong> (I’m using the more compact <code>toggle*</code> version where possible)</p>
<pre><code>library(shiny)
shinyApp(
  ui = fluidPage(
    shinyjs::useShinyjs(),
    shinyjs::inlineCSS(list(.big = &quot;font-size: 2em&quot;)),
    div(id = &quot;myapp&quot;,
        h2(&quot;shinyjs demo&quot;),
        checkboxInput(&quot;big&quot;, &quot;Bigger text&quot;, FALSE),
        textInput(&quot;name&quot;, &quot;Name&quot;, &quot;&quot;),
        a(id = &quot;toggleAdvanced&quot;, &quot;Show/hide advanced info&quot;, href = &quot;#&quot;),
        shinyjs::hidden(
          div(id = &quot;advanced&quot;,
            numericInput(&quot;age&quot;, &quot;Age&quot;, 30),
            textInput(&quot;company&quot;, &quot;Company&quot;, &quot;&quot;)
          )
        ),
        p(&quot;Timestamp: &quot;,
          span(id = &quot;time&quot;, date()),
          a(id = &quot;update&quot;, &quot;Update&quot;, href = &quot;#&quot;)
        ),
        actionButton(&quot;submit&quot;, &quot;Submit&quot;),
        actionButton(&quot;reset&quot;, &quot;Reset form&quot;)
    )
  ),
  
  server = function(input, output, session) {
    observe({
      shinyjs::toggleState(&quot;submit&quot;, !is.null(input$name) &amp;&amp; input$name != &quot;&quot;)
    })
    
    shinyjs::onclick(&quot;toggleAdvanced&quot;,
                     shinyjs::toggle(id = &quot;advanced&quot;, anim = TRUE))    
    
    shinyjs::onclick(&quot;update&quot;, shinyjs::text(&quot;time&quot;, date()))
    
    observe({
      shinyjs::toggleClass(&quot;myapp&quot;, &quot;big&quot;, input$big)
    })
    
    observeEvent(input$submit, {
      shinyjs::info(&quot;Thank you!&quot;)
    })
    
    observeEvent(input$reset, {
      shinyjs::reset(&quot;myapp&quot;)
    })    
  }
)</code></pre>
<p>You can view the final app <a href="http://daattali.com/shiny/shinyjs-basic/">here</a>.</p>
</div>
<div id="calling-your-own-javascript-functions-from-r" class="section level2">
<h2>Calling your own JavaScript functions from R</h2>
<p>You can also use <code>shinyjs</code> to simplify calling your own JavaScript functions from R, using <code>extendShinyjs</code>.</p>
<p>For example, suppose you wanted to define a JavaScript function that will change the colour of some text. You might know that Shiny allows you to send a message to the client using the <code>session$sendCustomMessage</code> interface. That works perfectly well, but using <code>extendShinyjs</code> has two main benefits: it makes you write a lot less code by taking care of all the message passing, and it can help you with normalizing the parameter passing from R to JavaScript.</p>
<p>Using <code>extendShinyjs</code> in order to use your own functions as shinyjs functions is easy. Any JavaScript function you define that begins with <code>shinyjs.</code> will be available to run from R through the <code>js$</code> variable. For example, if you write a JavaScript function called <code>shinyjs.colour</code>, then you can call it in R with <code>js$colour()</code>.</p>
<div id="basic-example-of-extendshinyjs" class="section level3">
<h3>Basic example of <code>extendShinyjs</code></h3>
<p>As an extremely simple example, here are the steps required to add your own JavaScript function that shows a message to the user (similar to <code>shinyjs::info</code>):</p>
<div id="create-a-javascript-file" class="section level4">
<h4>1. Create a JavaScript file</h4>
<p>Create a JavaScript file <code>www/js/shinyjs-ext.js</code> and define a function named <code>shinyjs.message</code> that will simply show an alert box with the given message.</p>
<pre><code>shinyjs.message = function(params) { alert(params); }</code></pre>
</div>
<div id="create-a-shiny-app" class="section level4">
<h4>2. Create a shiny app</h4>
<p>In order to use the new function we created, we need to call <code>extendShinyjs()</code> in the UI with the script as an argument. We also still need to call <code>useShinyjs()</code> as usual.</p>
<p>Any function defined inside the script file we provided in the UI will now be accessible in the server, so we can call <code>js$message(text)</code>.</p>
<pre><code>library(shiny)
library(shinyjs)
runApp(shinyApp(
  ui = fluidPage(
    useShinyjs(),
    extendShinyjs(&quot;www/js/shinyjs-ext.js&quot;),
    textInput(&quot;text&quot;, &quot;Message:&quot;, &quot;Hello!&quot;),
    actionButton(&quot;btn&quot;, &quot;Click me&quot;)
  ),
  server = function(input,output,session) {
    observeEvent(input$btn, {
      js$message(input$text)
    })
  }
))</code></pre>
<p>This example shows the most basic use of extending <code>shinyjs</code>: you can define functions in a JavaScript file, call <code>extendShinyjs()</code>, and then use the <code>js$</code> object to call those functions from R.</p>
</div>
</div>
<div id="more-complex-example-of-extendshinyjs-with-parameter-passing" class="section level3">
<h3>More complex example of <code>extendShinyjs</code> with parameter passing</h3>
<p>Let’s go back to the example from the beginning of the section: adding a function that will change the colour of an HTML element. This example will demonstrate the useful feature that <code>shinyjs</code> provides in normalizing parameters.</p>
<p>In JavaScript, given the id of an element and a colour, we can use these two simple lines of code to apply the colour to the HTML element:</p>
<pre><code>var el = $(&quot;#&quot; + id);
el.css('color', col);</code></pre>
<p>To turn this into a <code>shinyjs</code> function, we need to put it inside a function that has one parameter and whose name starts with <code>shinyjs.</code>. When calling a <code>shinyjs</code> function in R, the corresponding JavaScript function will be given a single array-like parameter. If the function in R was called with unnamed arguments (for example <code>function(1, &quot;a&quot;)</code>) then the parameter will be an <code>Array</code> object; if the arguments are named (for example <code>function(x = 1, y = &quot;a&quot;)</code>) then the parameter will be an <code>Object</code> with key-value pairs (each key is an argument name and the value is the argument’s value).</p>
<p><code>shinyjs</code> provides a <code>shinyjs.getParams()</code> function to normalize JavaScript parameters, which serves two purposes. First of all, it ensures that all arguments are named (even if the R function was called without names). Secondly, it also allows you to define default values for arguments. Here is an implementation of our JavaScript function to change the colour of an element, with the default colour being red if not specified.</p>
<pre><code>shinyjs.colour = function(params) {
  var defaultParams = {
    id : null,
    col : &quot;red&quot;
  };
  params = shinyjs.getParams(params, defaultParams);

  var el = $(&quot;#&quot; + params.id);
  el.css('color', params.col);
}</code></pre>
<p>All the default <code>shinyjs</code> functions use <code>shinyjs.getParams()</code>, and it is highly recommended to always use it in a similar manner to what is shown here. Otherwise, you’ll have to manually deal with the given parameter being either an Array or an Object, and you will have to manually account for default parameter values.</p>
<p>Any shiny app that includes a file with the above function will be able to call <code>js$colour()</code> from the app’s server. Here are a few ways to call the function: <code>js$colour(&quot;id&quot;)</code>, <code>js$colour(&quot;id&quot;, &quot;blue&quot;)</code>, <code>js$colour(col = &quot;yellow&quot;, id = &quot;id&quot;)</code>. Note that the order of the arguments in <code>defaultParams</code> in the JavaScript function matches the order of the arguments when calling the function in R with unnamed arguments. For example, calling <code>js$colour(&quot;red&quot;, &quot;id&quot;)</code> will not work because the arguments are not named and the JavaScript function expects id to come before colour. Also note that if we don’t provide a colour, red will be used.</p>
<p>Here is a simple shiny app that uses the above function, assuming it’s also placed in <code>www/js/shinyjs-ext.js</code>:</p>
<pre><code>library(shiny)
library(shinyjs)
runApp(shinyApp(
  ui = fluidPage(
    useShinyjs(),
    extendShinyjs(&quot;www/js/shinyjs-ext.js&quot;),
    p(id = &quot;text&quot;, &quot;Paragraph 1&quot;),
    selectInput(&quot;col&quot;, &quot;Colour:&quot;, c(&quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;black&quot;)),
    actionButton(&quot;btn&quot;, &quot;Change colour&quot;)
  ),
  server = function(input,output,session) {
    observeEvent(input$btn, {
      js$colour(&quot;text&quot;, input$col)
    })
  }
))</code></pre>
<p>You can read more about this feature with <code>?shinyjs::extendShinyjs</code>.</p>
</div>
</div>
<div id="altenatives-using-native-shiny" class="section level2">
<h2>Altenatives using native Shiny</h2>
<p>The initial release of this package was announced <a href="http://deanattali.com/2015/04/23/shinyjs-r-package/">on my blog</a> and discusses this topic.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
